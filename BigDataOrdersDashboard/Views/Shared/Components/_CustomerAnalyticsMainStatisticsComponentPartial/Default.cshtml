<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<div class="stats-row">

    <!-- KART 1 -->
    <div class="stat-card blue">
        <div class="icon-box"><i class="fa-solid fa-users"></i></div>
        <h2>@ViewBag.TotalCustomerCount</h2>
        <p>Toplam Müşteri Sayısı</p>
        <canvas id="chart1"></canvas>
    </div>

    <!-- KART 2 -->
    <div class="stat-card purple">
        <div class="icon-box"><i class="fa-solid fa-chart-line"></i></div>
        <h2>@ViewBag.AverageOrderPerCustomerCount</h2>
        <p>Ortalama Sipariş Adeti (Müşteri Başına)</p>
        <canvas id="chart2"></canvas>
    </div>

    <!-- KART 3 -->
    <div class="stat-card green">
        <div class="icon-box"><i class="fa-solid fa-user-check"></i></div>
        <h2>@ViewBag.ActiveCustomerCount</h2>
        <p>Son 3 Ayda Sipariş Veren</p>
        <canvas id="chart3"></canvas>
    </div>

    <!-- KART 4 -->
    <div class="stat-card orange">
        <div class="icon-box"><i class="fa-solid fa-user-xmark"></i></div>
        <h2>@ViewBag.InactiveCustomerCount</h2>
        <p>6 Aydır Sipariş Vermeyen</p>
        <canvas id="chart4"></canvas>
    </div>

</div>
<style>
    .stats-row {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
        margin-top: 20px;
    }

    .stat-card {
        position: relative;
        padding: 25px;
        border-radius: 18px;
        color: white;
        overflow: hidden;
        height: 170px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        border: 1px solid rgba(255,255,255,0.25);
        backdrop-filter: blur(6px);
        transition: all .25s;
    }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.015);
            box-shadow: 0 18px 40px rgba(0,0,0,0.28);
        }

        .stat-card h2 {
            font-size: 36px;
            font-weight: 700;
            margin: 0;
        }

        .stat-card p {
            margin: 3px 0 0 0;
            opacity: .9;
            font-size: 15px;
        }

        .stat-card canvas {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100% !important;
            height: 60px !important;
            opacity: .4;
        }

    .icon-box {
        position: absolute;
        right: 20px;
        top: 20px;
        font-size: 45px;
        opacity: 0.85;
        text-shadow: 0 3px 12px rgba(0,0,0,0.25);
    }

    /* COLORS */
    .blue {
        background: linear-gradient(135deg, #4facfe, #00f2fe);
    }

    .purple {
        background: linear-gradient(135deg, #a18cd1, #fbc2eb);
    }

    .green {
        background: linear-gradient(135deg, #43e97b, #38f9d7);
    }

    .orange {
        background: linear-gradient(135deg, #f6d365, #fda085);
    }

</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    function miniChart(ctx, data) {
        new Chart(ctx, {
            type: "line",
            data: {
                labels: data.map(() => ""),
                datasets: [{
                    data: data,
                        borderColor: "rgba(255,255,255,0.9)",
    backgroundColor: "rgba(255,255,255,0.25)",
                    borderWidth: 2,
                    tension: .4,
                    fill: true,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { x: { display: false }, y: { display: false } }
            }
        });
    }

    window.onload = () => {
        miniChart(document.getElementById('chart1'), [5,6,7,9,9,5,3,2,4,6,8]);
        miniChart(document.getElementById('chart2'), [2,3,5,8,7,6,9]);
        miniChart(document.getElementById('chart3'), [3,4,6,5,9,8,7]);
        miniChart(document.getElementById('chart4'), [9,7,6,8,9,5,4]);
    };
</script>
